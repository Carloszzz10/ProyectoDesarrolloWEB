<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>UTP CLASS FORO Registro</title>
        <link rel="icon" th:href="@{/Imagenes/utp_logo.png}">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
              integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
              crossorigin="anonymous" referrerpolicy="no-referrer" />

        <!-- Custom Styles -->
        <link rel="stylesheet" th:href="@{/css/StylePrincipal.css}">
        <link rel="stylesheet" th:href="@{/css/styleregistro.css}">


    </head>

  <body class="container-fluid mx-3">

        <!-- Modal para la publicación de posts -->
        <dialog id="favDialog">
            <form method="dialog">
                <section>
                    <div>
                        <menu>
                            <button id="cancel" type="reset">
                                <ion-icon name="close-outline"></ion-icon>
                            </button>
                        </menu>
                    </div>
                    <div>
                        <div class="mod-contenido">
                            <div class="mod-usuario">
                                <img th:src="@{/Imagenes/perfilpepe.png}" alt="Foto de Perfil del Usuario">
                            </div>
                            <div class="mod-text">
                                <textarea name="" id="autoResizeTextarea" maxlength="400" autofocus></textarea>
                                <p></p>
                            </div>
                        </div>
                    </div>
                    <div class="mod-social">
                        <div>
                            <button>Img</button>
                            <button>Emj</button>
                        </div>
                        <div class="mod-boton">
                            <button type="submit" onclick="publicarPost()">
                                Confirmar
                            </button>
                        </div>
                    </div>
                </section>
            </form>
        </dialog>
        <!--------------------------------------->
        <div class="menu">
            <ion-icon name="menu"></ion-icon>
        </div>

        <div class="barralateral minibarralateral">
            <div>
                <div class="nombrepag">
                    <img id="cloud" class="logoimagen" th:src="@{/Imagenes/UtpForo.png}" alt="LogoImagen">
                </div>

                <button class="boton" id="updateDetails">
                    <ion-icon name="add-circle-sharp"></ion-icon>
                    <span>Publicación</span>
                </button>
            </div>

            <nav class="navegacion">
                <ul>
                    <li>
                        <a th:href="@{/}">
                            <ion-icon name="home-sharp"></ion-icon>
                            <span>INICIO</span>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/comunidad/comunidades}">
                            <ion-icon name="logo-buffer"></ion-icon>
                            <span>Comunidades</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <ion-icon name="person-circle-sharp"></ion-icon>
                            <span>Mis Publicaciones</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <ion-icon name="bookmarks-sharp"></ion-icon>
                            <span>Favoritos</span>
                        </a>
                    </li>
                    <hr>
                    <li>
                        <a th:href="@{/Nosotros}">
                            <ion-icon name="information-circle-sharp"></ion-icon>
                            <span>¿Quienes Somos?</span>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/contactanos}">
                            <ion-icon name="mail-sharp"></ion-icon>
                            <span>Contactanos</span>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/Anuncios}">
                            <ion-icon name="notifications-sharp"></ion-icon>
                            <span>Anuncios</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div>
                <div class="linea"></div>

                <div class="modo-oscuro">
                    <div class="info">
                        <ion-icon name="moon-sharp"></ion-icon>
                        <span>Modo Oscuro</span>
                    </div>
                    <div class="switch">
                        <div class="base">
                            <div class="circulo"></div>
                        </div>
                    </div>
                </div>
                <!-- 
                            <div class="usuario dropend">
                                <img src="./Imagenes/Perfil.png" alt="">
                                <div class="info-usuario">
                                    <div class="nombreuser-email">
                                        <span class="nombre">Carlos</span>
                                        <span class="email">Carlos@hotmail.com</span>
                                    </div>
                                  
                                    <ion-icon class="dropdown-toggle" id="dropdownMenuButton" name="ellipsis-vertical-sharp" data-bs-toggle="dropdown" aria-expanded="false"></ion-icon>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <li><a class="dropdown-item" href="#">Mi perfil</a></li>
                                        <li><a class="dropdown-item" href="#">Configuración</a></li>
                                        <li><a class="dropdown-item" href="#">Cerrar sesión</a></li>
                                    </ul>
                                </div>
                           </div>-->
                <a th:href="@{/Login}">
                    <div class="usuario">
                        <img th:src="@{/Imagenes/Perfil.png}" alt="" class="imagenusuario">
                        <button class="botonusuario">Inicia Sesión/Registrarse</button>
                    </div>
                </a>
            </div>
        </div>



        <main>
            <div class="container1">
                <div class="row text-center">
                    <h2>¿Aún no tienes una Cuenta? Ven Regístrate</h2>
                    <p>Configura acá tu cuenta personal</p>
                </div>
            </div>

            <div class="container container2">
                <h3 class="text-center"><strong>Registro</strong></h3>
                <div class="mb-5" style="position: relative;">
                    <center>
                        <div th:if="${errorMessage}" class="text-danger fw-bold" 
                             style="position: absolute; top: 0; left: 50%; transform: translateX(-50%); text-align: center;">
                            <p th:text="${errorMessage}"></p>
                        </div>
                    </center>
                </div>
                <!-- Formulario de Registro con Thymeleaf -->
                <form th:action="@{/Registroexitoso}" id="formRegistro" method="post" th:object="${usuario}" enctype="multipart/form-data" >
                    <div class="row mt-2">
                        <!-- Foto de Perfil -->
                        <div class="col-4">
                            <div class="textoform mt-3">Foto de Perfil:</div>
                            <div class="container3 mt-3">
                                <img class="mr-4" th:src="@{/Imagenes/Perfil.png}" alt="imagenusuario" id="imagenusuario" width="100%" height="100%">
                            </div>
                            <div class="mt-2">
                                <div class="row" style="display: flex; flex-direction: column;">
                                    <input id = "file" type="file" name="image" onchange="showFileName()">
                                    <!--
                                    <input name="image" type="file" id="image" accept="image/png" onchange="showFileName()" />
                                    -->
                                </div>
                                <div id="fileInfo" style="margin-top: 10px;">
                                    Sin archivos seleccionados
                                </div>
                            </div>
                        </div>

                        <!-- Campos de Información Personal -->
                        <div class="col-4">
                            <label for="nombres">
                                <div class="textoform mt-3">Nombre Completo:</div>
                            </label>
                            <input type="text" th:field="*{nombres}" name="nombres" id="nombres" class="form-control casillasform mt-3"
                                   placeholder="Nombres..." required="true" />
                            <div id="errorNombre" style="font-size:0.85rem" class="mensajeerror text-danger"></div>

                            <input type="text" th:field="*{apellidos}" name="apellidos" id="apellidos" class="form-control casillasform mt-3"
                                   placeholder="Apellidos..." required="true" />
                            <div id="errorApellido" style="font-size:0.85rem" class="mensajeerror text-danger"></div>

                            <label for="numero">
                                <div class="textoform mt-4">Número de Contacto:</div>
                            </label>
                            <input type="text" th:field="*{numero}" name="numero" id="numero" class="form-control casillasform mt-3"
                                   placeholder="Ingrese Número..." required="true" />
                            <div id="errorTelefono" style="font-size:0.85rem" class="mensajeerror text-danger"></div>

                            <label for="sexo">
                                <div class="textoform mt-4 mb-2">Seleccione su sexo</div>
                            </label>
                            <div class="form-check">
                                <input type="radio" name="sexo" th:field="*{sexo}" value="Masculino" checked="checked"/> Masculino
                                <input type="radio" name="sexo"  th:field="*{sexo}" value="Femenino" /> Femenino
                                <input type="radio" name="sexo" th:field="*{sexo}" value="Otro" /> Otro
                                <div id="errorSexo" class="mensajeerror"></div>
                            </div>
                        </div>

                        <!-- Campos de Email y Contraseña -->
                        <div class="col-4">
                            <label for="email">
                                <div class="textoform mt-3">Correo Electrónico:</div>
                            </label>
                            <input type="email" th:field="*{usuario}" name="usuario" id="usuario" class="form-control casillasform mt-2"
                                   placeholder="Email..." required="true" />
                            <div id="errorEmail" style="font-size:0.85rem" class="mensajeerror text-danger"></div>

                            <label for="password">
                                <div class="textoform mt-3">Contraseña:</div>
                            </label>
                            <input type="password" th:field="*{password}" name="password" id="password" class="form-control casillasform mt-2"
                                   placeholder="Ingresar contraseña..." required="true" />
                            <div id="errorPassword" style="font-size:0.85rem" class="mensajeerror text-danger"></div>

                            <label for="repassword">
                                <div class="textoform mt-3">Confirme Contraseña:</div>
                            </label>
                            <input type="password" id="repassword" class="form-control casillasform mt-2"
                                   placeholder="Password..." required="true" />
                            <div id="errorRePassword" style="font-size:0.85rem" class="mensajeerror text-danger"></div>

                            <label for="ubicacion">
                                <div class="textoform mt-3">Selecciona tu Sede:</div>
                            </label>
                            <select name="SedeEstudio" th:field="*{SedeEstudio}" id="ubicacion" class="form-select form-select-sm mt-2" required="on">
                                <option value="Seleccionar">Seleccionar</option>
                                <option value="Trujillo">Trujillo</option>
                                <option value="Ica">Ica</option>
                                <option value="Huancayo">Huancayo</option>
                                <option value="Piura">Piura</option>
                                <option value="Chimbote">Chimbote</option>
                                <option value="Chiclayo">Chiclayo</option>
                                <option value="Arequipa">Arequipa</option>
                                <option value="Sedes Lima">Sedes Lima</option>
                            </select>
                            <div id="errorUbicacion" style="font-size:0.85rem" class="mensajeerror text-danger"></div>
                        </div>

                        <!-- Botón de Registro -->
                        <div class="col-12 text-center mt-5">
                            <button class="btn btn-primary botonregistrar" type="submit">Registrarse</button>
                        </div>

                        <div id="successMessage" class="mt-3 text-center text-success"></div>
                        <div class="mt-1 text-end mt-3">
                            <a th:href="@{/login}">Regresar al Login</a>
                        </div>
                    </div>
                </form>
            </div>
        </main>


        <script th:src="@{/Js/main1.js}"></script>
        <script th:src="@{/Js/ValidarRegistro.js}"></script>

        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
                integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
                integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    </body>

</html>
