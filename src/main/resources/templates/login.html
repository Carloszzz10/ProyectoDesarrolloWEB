<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTP CLASS FORO Registro</title>
    <link rel="icon" th:href="@{/Imagenes/utp_logo.png}">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
          integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    
         <!-- Custom Styles -->
    <link rel="stylesheet" th:href="@{/css/Stylesesion.css}">
    <link rel="stylesheet" th:href="@{/css/StylePrincipal.css}">
    
       <!-- Custom Scripts -->
    <script th:src="@{/js/publicar.js}" defer></script>

    <!-- Global context path -->
 
    </head>
 <body class="container-fluid mx-3">

    <!-- Modal para la publicación de posts -->
    <dialog id="favDialog">
        <form method="dialog">
            <section>
                <div>
                    <menu>
                        <button id="cancel" type="reset">
                            <ion-icon name="close-outline"></ion-icon>
                        </button>
                    </menu>
                </div>
                <div>
                    <div class="mod-contenido">
                        <div class="mod-usuario">
                            <img th:src="@{/Imagenes/perfilpepe.png}" alt="Foto de Perfil del Usuario">
                        </div>
                        <div class="mod-text">
                            <textarea name="" id="autoResizeTextarea" maxlength="400" autofocus></textarea>
                            <p></p>
                        </div>
                    </div>
                </div>
                <div class="mod-social">
                    <div>
                        <button>Img</button>
                        <button>Emj</button>
                    </div>
                    <div class="mod-boton">
                        <button type="submit" onclick="publicarPost()">
                            Confirmar
                        </button>
                    </div>
                </div>
            </section>
        </form>
    </dialog>
        <!--------------------------------------->
       <div class="menu">
        <ion-icon name="menu"></ion-icon>
    </div>

    <div class="barralateral minibarralateral">
        <div>
            <div class="nombrepag">
                <img id="cloud" class="logoimagen" th:src="@{/Imagenes/UtpForo.png}" alt="LogoImagen">
            </div>

            <button class="boton" id="updateDetails">
                <ion-icon name="add-circle-sharp"></ion-icon>
                <span>Publicación</span>
            </button>
        </div>

        <nav class="navegacion">
            <ul>
                <li>
                    <a th:href="@{/}">
                        <ion-icon name="home-sharp"></ion-icon>
                        <span>INICIO</span>
                    </a>
                </li>
                <li>
                    <a th:href="@{/Comunidades}">
                        <ion-icon name="logo-buffer"></ion-icon>
                        <span>Comunidades</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <ion-icon name="person-circle-sharp"></ion-icon>
                        <span>Mis Publicaciones</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <ion-icon name="bookmarks-sharp"></ion-icon>
                        <span>Favoritos</span>
                    </a>
                </li>
                <hr>
                <li>
                    <a th:href="@{/Nosotros}">
                        <ion-icon name="information-circle-sharp"></ion-icon>
                        <span>¿Quienes Somos?</span>
                    </a>
                </li>
                <li>
                    <a th:href="@{/contactanos}">
                        <ion-icon name="mail-sharp"></ion-icon>
                        <span>Contactanos</span>
                    </a>
                </li>
                <li>
                    <a th:href="@{/Anuncios}">
                        <ion-icon name="notifications-sharp"></ion-icon>
                        <span>Anuncios</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div>
            <div class="linea"></div>

            <div class="modo-oscuro">
                <div class="info">
                    <ion-icon name="moon-sharp"></ion-icon>
                    <span>Modo Oscuro</span>
                </div>
                <div class="switch">
                    <div class="base">
                        <div class="circulo"></div>
                    </div>
                </div>
            </div>
   
            <a th:href="@{/Login}">
                <div class="usuario">
                    <img th:src="@{/Imagenes/Perfil.png}" alt="" class="imagenusuario">
                    <button class="botonusuario">Inicia Sesión/Registrarse</button>
                </div>
            </a>
        </div>
    </div>

      <main class="d-flex align-items-center justify-content-center h-100">
    <div class="container formulariosesion w-75">
        <form method="post"  th:action="@{/login}">
            <h1 class="fw-bold justify-content-center d-flex titulosesion">Iniciar Sesión</h1><br />
          <div th:if="${param.error}" class="alert alert-danger">
              <center><p th:text="${param.error}"></p></center>
    </div>
            
<div th:if="${param.logout}">
    <div class="alert alert-info">Ha cerrado Sesion Exitosamente.</div>
</div>
            <label for="username" class="texto">Ingrese su correo:</label>
            <div class="input-group mb-3 mt-2">
                <span class="input-group-text"><i class="fa-solid fa-user"></i></span>
                <input type="email" class="form-control" name="username" id="username" placeholder="Correo..."  required>
            </div>
            <label for="fcontraseña" class="texto">Ingrese su contraseña:</label>
            <div class="input-group mt-2">
                <span class="input-group-text"><i class="fa-solid fa-unlock"></i></span>
                <input type="password" class="form-control" name="password" id="password" placeholder="Contraseña..."  required maxlength="22">
            </div>

            <div class="contraseña mt-2">
                <a th:href="@{/Verificacion}">¿Se ha olvidado su contraseña?</a>
            </div>
            <br />
            <input type="submit" class="btn btn-primary form-control" id="login-submit" value="Iniciar Sesión">
            <div class="mt-4 justify-content-center d-flex">
                No tienes una cuenta? 
                <a th:href="@{/Registro}" class="text-primary">Regístrate aquí</a>
            </div>
        </form>
    </div>
</main>
<div th:if="${inactiveAccount}" class="modal" id="inactiveAccountModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Cuenta Inactiva</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Tu cuenta no está activada. Por favor, revisa tu correo electrónico para activarla.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
       
<script th:src="@{/Js/main1.js}"></script>
<script th:src="@{/Js/validardatos.js}"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
<script th:src="@{/script.js}"></script>
</body>
</html>
